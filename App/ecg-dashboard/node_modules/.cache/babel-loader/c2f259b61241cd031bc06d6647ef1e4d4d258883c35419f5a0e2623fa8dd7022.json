{"ast":null,"code":"const WebSocket = require('ws');\nconst wss = new WebSocket.Server({\n  port: 8080\n}); // WebSocket server running on port 8080\n\nwss.on('connection', ws => {\n  console.log('Client connected');\n  ws.on('message', message => {\n    const data = JSON.parse(message); // Assuming the ESP32 or React client sends JSON data\n    console.log(`Received: ${data.payload} from client ${data.clientId}`);\n\n    // Broadcast the received ECG data to all connected clients\n    wss.clients.forEach(client => {\n      if (client.readyState === WebSocket.OPEN) {\n        client.send(`Client ${data.clientId} sent -> ${data.payload}`);\n      }\n    });\n  });\n  ws.on('close', () => {\n    console.log('Client disconnected');\n  });\n  ws.on('error', error => {\n    console.log('WebSocket error:', error);\n  });\n});\nconsole.log('WebSocket server is running on ws://localhost:8080');","map":{"version":3,"names":["WebSocket","require","wss","Server","port","on","ws","console","log","message","data","JSON","parse","payload","clientId","clients","forEach","client","readyState","OPEN","send","error"],"sources":["F:/York/EECS3640project/ecg-dashboard/src/App.js"],"sourcesContent":["const WebSocket = require('ws');\n\nconst wss = new WebSocket.Server({ port: 8080 }); // WebSocket server running on port 8080\n\nwss.on('connection', ws => {\n  console.log('Client connected');\n\n  ws.on('message', message => {\n    const data = JSON.parse(message);  // Assuming the ESP32 or React client sends JSON data\n    console.log(`Received: ${data.payload} from client ${data.clientId}`);\n\n    // Broadcast the received ECG data to all connected clients\n    wss.clients.forEach(client => {\n      if (client.readyState === WebSocket.OPEN) {\n        client.send(`Client ${data.clientId} sent -> ${data.payload}`);\n      }\n    });\n  });\n\n  ws.on('close', () => {\n    console.log('Client disconnected');\n  });\n\n  ws.on('error', (error) => {\n    console.log('WebSocket error:', error);\n  });\n});\n\nconsole.log('WebSocket server is running on ws://localhost:8080');\n"],"mappings":"AAAA,MAAMA,SAAS,GAAGC,OAAO,CAAC,IAAI,CAAC;AAE/B,MAAMC,GAAG,GAAG,IAAIF,SAAS,CAACG,MAAM,CAAC;EAAEC,IAAI,EAAE;AAAK,CAAC,CAAC,CAAC,CAAC;;AAElDF,GAAG,CAACG,EAAE,CAAC,YAAY,EAAEC,EAAE,IAAI;EACzBC,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAC;EAE/BF,EAAE,CAACD,EAAE,CAAC,SAAS,EAAEI,OAAO,IAAI;IAC1B,MAAMC,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACH,OAAO,CAAC,CAAC,CAAE;IACnCF,OAAO,CAACC,GAAG,CAAC,aAAaE,IAAI,CAACG,OAAO,gBAAgBH,IAAI,CAACI,QAAQ,EAAE,CAAC;;IAErE;IACAZ,GAAG,CAACa,OAAO,CAACC,OAAO,CAACC,MAAM,IAAI;MAC5B,IAAIA,MAAM,CAACC,UAAU,KAAKlB,SAAS,CAACmB,IAAI,EAAE;QACxCF,MAAM,CAACG,IAAI,CAAC,UAAUV,IAAI,CAACI,QAAQ,YAAYJ,IAAI,CAACG,OAAO,EAAE,CAAC;MAChE;IACF,CAAC,CAAC;EACJ,CAAC,CAAC;EAEFP,EAAE,CAACD,EAAE,CAAC,OAAO,EAAE,MAAM;IACnBE,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC;EACpC,CAAC,CAAC;EAEFF,EAAE,CAACD,EAAE,CAAC,OAAO,EAAGgB,KAAK,IAAK;IACxBd,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAEa,KAAK,CAAC;EACxC,CAAC,CAAC;AACJ,CAAC,CAAC;AAEFd,OAAO,CAACC,GAAG,CAAC,oDAAoD,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}